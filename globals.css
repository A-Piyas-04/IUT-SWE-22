/*
  Global stylesheet for IUT SWE 22
  - Applies base styles
  - Defines Dark Neon theme utilities
*/

/* Import a clean, modern font for the futuristic aesthetic */
@import url("https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;700&display=swap");

@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* CSS variables for neon text glow utilities */
  --neon-cyan: #00f7ff;
  --neon-magenta: #ff2df1;
  --neon-lime: #a8ff00;
  /* Configurable routine scroll height with sensible default */
  --routine-scroll-height: 700px;
  /* Global animation constants for synchronized timing */
  --anim-duration: 300ms;
  --anim-ease: cubic-bezier(0.16, 1, 0.3, 1); /* ease-out-expo for smoother transitions */
}

@layer base {
  html,
  body {
    height: 100%;
  }

  body {
    /* Fallbacks complementing Tailwind classes set in the layout */
    background-color: #0d0221;
    color: #e2e8f0; /* slate-200 */
    font-family: "Space Grotesk", ui-sans-serif, system-ui, -apple-system, "Segoe UI",
      Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif;
    text-rendering: optimizeLegibility;
    line-height: 1.6;
  }
}

@layer utilities {
  /* Text glow utilities to enhance neon theme */
  .text-glow-cyan {
    text-shadow: 0 0 6px rgba(0,247,255,0.35), 0 0 12px rgba(0,247,255,0.25);
  }
  .text-glow-magenta {
    text-shadow: 0 0 6px rgba(255,45,241,0.35), 0 0 12px rgba(255,45,241,0.25);
  }
  .text-glow-lime {
    text-shadow: 0 0 6px rgba(168,255,0,0.35), 0 0 12px rgba(168,255,0,0.25);
  }

  /* Page transitions: fast, smooth, hardware-accelerated */
  .page-transition {
    will-change: opacity, transform;
    transition: opacity var(--anim-duration) var(--anim-ease),
      transform var(--anim-duration) var(--anim-ease);
  }
  .page-transition.pt-pre { opacity: 0; transform: translateY(10px); }
  .page-transition.pt-enter { opacity: 1; transform: translateY(0); }

  @media (prefers-reduced-motion: reduce) {
    .page-transition { transition: none !important; }
    .page-transition.pt-pre { opacity: 1; transform: none; }
  }

  /* Futuristic divider with light trail and subtle particles */
  .futuristic-divider {
    min-height: 30px;
    width: 100%;
    border-radius: 9999px; /* pill */
    position: relative;
    overflow: hidden;
    background:
      radial-gradient(1200px 50px at -10% 50%, rgba(0,247,255,0.25), transparent 60%),
      radial-gradient(1200px 50px at 110% 50%, rgba(255,45,241,0.25), transparent 60%),
      linear-gradient(90deg, rgba(0,247,255,0.15) 0%, rgba(255,45,241,0.15) 50%, rgba(168,255,0,0.15) 100%);
    box-shadow: inset 0 0 0 1px rgba(255,255,255,0.08), 0 6px 24px rgba(0,0,0,0.35);
  }

  .futuristic-divider::before {
    content: "";
    position: absolute;
    inset: 0;
    background: linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.25) 50%, transparent 100%);
    background-size: 200% 100%;
    animation: shimmer 1s linear infinite;
  }

  .futuristic-divider::after {
    content: "";
    position: absolute;
    inset: 0;
    background-image: radial-gradient(circle at 20% 50%, rgba(168,255,0,0.25) 2px, transparent 3px),
      radial-gradient(circle at 40% 30%, rgba(0,247,255,0.25) 2px, transparent 3px),
      radial-gradient(circle at 60% 70%, rgba(255,45,241,0.25) 2px, transparent 3px),
      radial-gradient(circle at 80% 40%, rgba(0,247,255,0.25) 2px, transparent 3px);
    background-size: 24px 24px;
    animation: particles 1s ease-in-out infinite;
    opacity: 0.5;
  }

  .futuristic-divider:hover {
    box-shadow: inset 0 0 0 1px rgba(255,255,255,0.14), 0 8px 28px rgba(0,0,0,0.4);
  }
  .futuristic-divider:focus-visible {
    outline: none;
    box-shadow: inset 0 0 0 2px rgba(0,247,255,0.6), 0 0 0 3px rgba(0,247,255,0.25);
  }

  @keyframes shimmer {
    0% { background-position: 0% 0%; }
    100% { background-position: 200% 0%; }
  }
  @keyframes particles {
    0%, 100% { transform: translate3d(0,0,0); }
    50% { transform: translate3d(2px, -1px, 0); }
  }

  /* Loading bar animation for route-level loading state */
  @keyframes loadingBar {
    0% { transform: translateX(-100%); }
    50% { transform: translateX(50%); }
    100% { transform: translateX(300%); }
  }
  .loading-bar {
    will-change: transform;
    animation: loadingBar var(--anim-duration) var(--anim-ease) infinite;
  }

  /* Accessibility: respect reduced motion */
  @media (prefers-reduced-motion: reduce) {
    .futuristic-divider::before,
    .futuristic-divider::after {
      animation: none !important;
    }
  }
}